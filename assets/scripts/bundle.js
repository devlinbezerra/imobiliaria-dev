!function(t){var e={};function a(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=27)}([function(t,e,a){"use strict";var o=a(2),n=a(11),r=Object.prototype.toString;function s(t){return"[object Array]"===r.call(t)}function i(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===r.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var a=0,o=t.length;a<o;a++)e.call(null,t[a],a,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:n,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:i,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:c,isStream:function(t){return i(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function a(a,o){"object"==typeof e[o]&&"object"==typeof a?e[o]=t(e[o],a):e[o]=a}for(var o=0,n=arguments.length;o<n;o++)u(arguments[o],a);return e},deepMerge:function t(){var e={};function a(a,o){"object"==typeof e[o]&&"object"==typeof a?e[o]=t(e[o],a):e[o]="object"==typeof a?t({},a):a}for(var o=0,n=arguments.length;o<n;o++)u(arguments[o],a);return e},extend:function(t,e,a){return u(e,function(e,n){t[n]=a&&"function"==typeof e?o(e,a):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,a){t.exports=a(10)},function(t,e,a){"use strict";t.exports=function(t,e){return function(){for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];return t.apply(e,a)}}},function(t,e,a){"use strict";var o=a(0);function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,a){if(!e)return t;var r;if(a)r=a(e);else if(o.isURLSearchParams(e))r=e.toString();else{var s=[];o.forEach(e,function(t,e){null!=t&&(o.isArray(t)?e+="[]":t=[t],o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),s.push(n(e)+"="+n(t))}))}),r=s.join("&")}if(r){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}},function(t,e,a){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,a){"use strict";(function(e){var o=a(0),n=a(17),r={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i,c={adapter:(void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?i=a(6):"undefined"!=typeof XMLHttpRequest&&(i=a(6)),i),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(t){c.headers[t]={}}),o.forEach(["post","put","patch"],function(t){c.headers[t]=o.merge(r)}),t.exports=c}).call(this,a(16))},function(t,e,a){"use strict";var o=a(0),n=a(18),r=a(3),s=a(20),i=a(21),c=a(7);t.exports=function(t){return new Promise(function(e,u){var d=t.data,l=t.headers;o.isFormData(d)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",m=t.auth.password||"";l.Authorization="Basic "+btoa(f+":"+m)}if(p.open(t.method.toUpperCase(),r(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var a="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:t,request:p};n(e,u,o),p=null}},p.onabort=function(){p&&(u(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){u(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},o.isStandardBrowserEnv()){var b=a(22),h=(t.withCredentials||i(t.url))&&t.xsrfCookieName?b.read(t.xsrfCookieName):void 0;h&&(l[t.xsrfHeaderName]=h)}if("setRequestHeader"in p&&o.forEach(l,function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete l[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),u(t),p=null)}),void 0===d&&(d=null),p.send(d)})}},function(t,e,a){"use strict";var o=a(19);t.exports=function(t,e,a,n,r){var s=new Error(t);return o(s,e,a,n,r)}},function(t,e,a){"use strict";var o=a(0);t.exports=function(t,e){e=e||{};var a={};return o.forEach(["url","method","params","data"],function(t){void 0!==e[t]&&(a[t]=e[t])}),o.forEach(["headers","auth","proxy"],function(n){o.isObject(e[n])?a[n]=o.deepMerge(t[n],e[n]):void 0!==e[n]?a[n]=e[n]:o.isObject(t[n])?a[n]=o.deepMerge(t[n]):void 0!==t[n]&&(a[n]=t[n])}),o.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(o){void 0!==e[o]?a[o]=e[o]:void 0!==t[o]&&(a[o]=t[o])}),a}},function(t,e,a){"use strict";function o(t){this.message=t}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,t.exports=o},function(t,e,a){"use strict";var o=a(0),n=a(2),r=a(12),s=a(8);function i(t){var e=new r(t),a=n(r.prototype.request,e);return o.extend(a,r.prototype,e),o.extend(a,e),a}var c=i(a(5));c.Axios=r,c.create=function(t){return i(s(c.defaults,t))},c.Cancel=a(9),c.CancelToken=a(25),c.isCancel=a(4),c.all=function(t){return Promise.all(t)},c.spread=a(26),t.exports=c,t.exports.default=c},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,a){"use strict";var o=a(0),n=a(3),r=a(13),s=a(14),i=a(8);function c(t){this.defaults=t,this.interceptors={request:new r,response:new r}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=i(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[s,void 0],a=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)a=a.then(e.shift(),e.shift());return a},c.prototype.getUri=function(t){return t=i(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(t){c.prototype[t]=function(e,a){return this.request(o.merge(a||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){c.prototype[t]=function(e,a,n){return this.request(o.merge(n||{},{method:t,url:e,data:a}))}}),t.exports=c},function(t,e,a){"use strict";var o=a(0);function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},function(t,e,a){"use strict";var o=a(0),n=a(15),r=a(4),s=a(5),i=a(23),c=a(24);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!i(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return u(t),e.data=n(e.data,e.headers,t.transformResponse),e},function(e){return r(e)||(u(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,a){"use strict";var o=a(0);t.exports=function(t,e,a){return o.forEach(a,function(a){t=a(t,e)}),t}},function(t,e){var a,o,n=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(t){if(a===setTimeout)return setTimeout(t,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:r}catch(t){a=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var c,u=[],d=!1,l=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):l=-1,u.length&&f())}function f(){if(!d){var t=i(p);d=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,d=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function b(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];u.push(new m(t,e)),1!==u.length||d||i(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=b,n.addListener=b,n.once=b,n.off=b,n.removeListener=b,n.removeAllListeners=b,n.emit=b,n.prependListener=b,n.prependOnceListener=b,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,a){"use strict";var o=a(0);t.exports=function(t,e){o.forEach(t,function(a,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=a,delete t[o])})}},function(t,e,a){"use strict";var o=a(7);t.exports=function(t,e,a){var n=a.config.validateStatus;!n||n(a.status)?t(a):e(o("Request failed with status code "+a.status,a.config,null,a.request,a))}},function(t,e,a){"use strict";t.exports=function(t,e,a,o,n){return t.config=e,a&&(t.code=a),t.request=o,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,a){"use strict";var o=a(0),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,a,r,s={};return t?(o.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=o.trim(t.substr(0,r)).toLowerCase(),a=o.trim(t.substr(r+1)),e){if(s[e]&&n.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([a]):s[e]?s[e]+", "+a:a}}),s):s}},function(t,e,a){"use strict";var o=a(0);t.exports=o.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");function n(t){var o=t;return e&&(a.setAttribute("href",o),o=a.href),a.setAttribute("href",o),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}return t=n(window.location.href),function(e){var a=o.isString(e)?n(e):e;return a.protocol===t.protocol&&a.host===t.host}}():function(){return!0}},function(t,e,a){"use strict";var o=a(0);t.exports=o.isStandardBrowserEnv()?{write:function(t,e,a,n,r,s){var i=[];i.push(t+"="+encodeURIComponent(e)),o.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),o.isString(n)&&i.push("path="+n),o.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,a){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,a){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,a){"use strict";var o=a(9);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var a=this;t(function(t){a.reason||(a.reason=new o(t),e(a.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n(function(e){t=e}),cancel:t}},t.exports=n},function(t,e,a){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,a){"use strict";a.r(e);var o=a(1),n=a.n(o),r={db:t=>n.a.post(`https://crossorigin.me/http://64.31.48.87/facil/api/${t.acao}/${t.tabela}`,t.data),auth:t=>n.a.post("http://64.31.48.87/facil/api/autenticar",t)};const s=(t,e)=>{if("clientes"===e||"inquelinos"===e)t.forEach(t=>{let a=`\n\t\t\t<tr>\n\t\t\t\t<td>${t.nome}</td>\n\t\t\t\t<td>${t.telefone_comercial}</td>\n\t\t\t\t<td>${t.telefone_residencial}</td>\n\t\t\t\t<td>${t.cidade}</td>\n\t\t\t\t<td>${t.estado_civil}</td>\n\t\t\t\t<td>${t.renda}</td>\n\t\t\t\t<td>${t.anotacao}</td>\n\t\t\t\t<td><a target='_blank' href='https://api.whatsapp.com/send?phone=55${t.telefone_comercial}&text=Oi%2C%20Tudo%20bem%3F'><img width='20' height='20' src='./../assets/images/general/whatsapp.png' /></a></td>\n\t\t\t\t<td><a href='form_${e}/${t.id}'>Clique aqui para visualizar ou Alterar</a></td>\n\t\t\t</tr>`;document.querySelector(".list").insertAdjacentHTML("beforeend",a)}),$("#lista").footable();else if("imoveis"===e)t.forEach(t=>{let a=`\n\t\t\t<tr>\n\t\t\t\t<td>${t.descricao}</td>\n\t\t\t\t<td>${t.rua}</td>\n\t\t\t\t<td>${t.bairro}</td>\n\t\t\t\t<td>${t.cidade}</td>\n\t\t\t\t<td>${t.matricula}</td>\n\t\t\t\t<td>${t.proprietario_nome}</td>\n\t\t\t\t<td>${t.anotacao}</td>\n\t\t\t\t<td><a href='form_${e}/${t.id}'>Clique aqui para visualizar ou Alterar</a></td>\n\t\t\t</tr>`;document.querySelector(".list").insertAdjacentHTML("beforeend",a)}),$("#lista").footable();else if("contratos"===e)t.forEach(t=>{let a=`\n\t\t\t<tr>\n\t\t\t\t<td>${t.numero_contrato}</td>\n\t\t\t\t<td>${t.imovel_descricao}</td>\n\t\t\t\t<td>${t.contratante_nome}</td>\n\t\t\t\t<td>${t.contratado_nome}</td>\n\t\t\t\t<td>${t.inicio}</td>\n\t\t\t\t<td>${t.termino}</td>\n\t\t\t\t<td><a target='_blank' href='${t.link}'><img width='20' height='20' src='./../assets/images/general/drive.png' /></a></td>\n\t\t\t\t<td><a href='form_${e}/${t.id}'>Clique aqui para visualizar ou Alterar</a></td>\n\t\t\t</tr>`;document.querySelector(".list").insertAdjacentHTML("beforeend",a)}),$("#lista").footable();else if("debitos"===e)t.forEach(t=>{let a=`\n\t\t\t<tr>\n\t\t\t\t<td>${t.vencimento}</td>\n\t\t\t\t<td>${t.imovel}</td>\n\t\t\t\t<td>${t.contratante}</td>\n\t\t\t\t<td>${t.valor}</td>\n\t\t\t\t<td>${t.numero_contrato}</td>\n\t\t\t\t<td>${t.status}</td>\n\t\t\t\t<td><a href='form_${e}/${t.id}'>Clique aqui para visualizar ou Alterar</a></td>\n\t\t\t</tr>`;document.querySelector(".list").insertAdjacentHTML("beforeend",a)}),$("#lista").footable();else if("debitos_rep"===e){let e=[];t.forEach(t=>{e.push(Object.assign({baixaLink:`<a target='_blank' href='form_debitos/${t.id}' >Baixar</a>`,whatsapp:`<td><a target='_blank' href="https://api.whatsapp.com/send?phone=55${t.phone}&text=Oi%2C%20Tudo%20bem%3F"><img width="20" height="20" src="./../assets/images/general/whatsapp.png"></a></td>`},t))});const a=$("#relatorio_debitos").dataTable({data:e,columns:[{data:"inquelino"},{data:"imovel"},{data:"aging"},{data:"vencimento"},{data:"valorNominal"},{data:"status"},{data:"baixaLink"},{data:"whatsapp"}]});y(c.buscarButtonDebitos,"click",()=>{a.fnClearTable(),a.fnDestroy(),(async()=>{const t={tabela:"debitos",acao:"relatorio",data:_(c.camposRelatorioDebitos)},e={...t};Object.keys(e.data).forEach(t=>{"0"!==e.data[t]&&""!==e.data[t]||delete e.data[t]}),console.log(e);const a=await r.db(t);console.log(a.data),a.data.status&&s(a.data.result,"debitos_rep")})()})}},i=(t,e)=>{let a;"proprietario"===t||"contratante"===t||"contratado"===t||"pe.id"===t||"po.id"===t?a="nome":"imovel"===t||"i.id"===t?a="descricao":"contrato"===t&&(a="numero_contrato"),e.forEach(e=>{let o=`<option value='${e.id}'>${e[a]}</option>`;document.getElementById(t).insertAdjacentHTML("beforeend",o)})},c={local:"localhost/facil",pk:"pk",modulo:"modulo",loginButton:"enviar",estadoCivil:"estado_civil",buttonArea:".botoes",buttonDelete:"botao_clientes_excluir",buttonConfirmDelete:"excluir_registro",buttonUpdate:"botao_alterar_clientes",saveButtonClientes:"form_clientes_salvar",saveButtonBanco:"salvar_banco",cadastrarButtonBanco:"cadastrar_banco",cancelButtonClientes:"botao_cancelar_clientes",buscarButtonDebitos:"botao_bucar_debitos",camposPessoa:".campo",camposConjuge:".campo_conjuge",camposBanco:".banco",camposImovel:".campo_imovel",camposContrato:".campo_contrato",camposDebito:".campo_debitos",camposBaixaDebito:".campo_baixa_debito",baixaButton:"baixar_debito",camposRelatorioDebitos:".relatorio-debitos",mensagemHead:"message-head",mensagemBody:"message-body",modalMensagem:"modal_resultado",modalBanco:"modal_dados_bancarios",modalConfirmDelete:"modal_confirm_delete",modalBaixarDebitos:"modal_baixa",list:"list"},u="<button id='cadastrar_banco' data-toggle='modal' data-target='#modal_dados_bancarios'class='btn btn-info'>Dados Bancários</button>",d="<button class='btn btn-default'><a href='form_clientes' id='botao_cancelar_clientes'>Cancelar</a></button><button id='form_clientes_salvar' class='btn btn-primary'>Salvar</button>",l="<button class='btn btn-default'><a href='form_clientes' id='botao_cancelar_clientes'>Cancelar</a></button><button id='botao_alterar_clientes' class='btn btn-warning'>Alterar</button><button id='botao_clientes_excluir' data-toggle='modal' data-target='#modal_confirm_delete' class='btn btn-danger'>Excluir</button>";let p={};const f=(t,e)=>{document.getElementById(t).disabled=e},m=t=>{p[t]=[],Array.from(document.querySelectorAll(t)).forEach(e=>{e.addEventListener("change",e=>{const a=e.target.id,o=e.target.value;p[t].unshift(`{"${a}": "${o}"}`)})})},b=(t,e)=>{Array.from(document.querySelectorAll(e)).forEach(e=>e.value=t[e.id])},h=()=>{document.querySelector(c.buttonArea).innerHTML=d},g=()=>{document.querySelector(c.buttonArea).innerHTML=l},v=t=>{$("#"+t).modal("hide")},y=(t,e,a)=>{document.getElementById(t)&&document.getElementById(t).addEventListener(e,a)},w=t=>!!document.getElementById(t)&&document.getElementById(t).value,_=t=>(t=>{const e=Array.from(document.querySelectorAll(t));let a="{",o=",";for(let t=0;t<e.length;t++)t===e.length-1&&(o="}"),a=a+'"'+e[t].id+'":"'+e[t].value+'"'+o;return JSON.parse(a)})(t),x=t=>{const e=document.getElementById(c.mensagemHead),a=document.getElementById(c.modalMensagem).classList;t.status?(a.contains("hmodal-danger")&&(a.remove("hmodal-danger"),a.add("hmodal-success")),e.textContent="Sucesso!"):(a.contains("hmodal-success")&&(a.remove("hmodal-success"),a.add("hmodal-danger")),e.textContent="Erro! :("),document.getElementById(c.mensagemBody).textContent=t.message,(t=>{$("#"+t).modal("show")})(c.modalMensagem)},C=async t=>{f(c.saveButtonBanco,!0);const e={tabela:"dados_bancarios",acao:"inserir",data:Object.assign({cliente:t},_(c.camposBanco))},a=await r.db(e);v(c.modalBanco),a.data.status||f(c.saveButtonClientes,!1),x(a.data)};let B={};y(c.estadoCivil,"change",()=>{"Casado(a)"===w("estado_civil")?$("#conjuge").collapse("show"):$("#conjuge").collapse("hide")});const j=()=>{C(B.pessoaId)},E=async()=>{f(c.saveButtonClientes,!0);const t="Casado(a)"===w(c.estadoCivil);let e,a;if(t){const t={tabela:"pessoa",acao:"inserir",data:_(c.camposConjuge)};e=await r.db(t)}if(t&&e.data.status){const t={tabela:"pessoa",acao:"inserir",data:Object.assign({conjuge:e.data.id},_(c.camposPessoa))};(a=await r.db(t)).data.status||f(c.saveButtonClientes,!1),x(a.data)}else if(t)x(e.data),e.data.status||f(c.saveButtonClientes,!1);else{const t={tabela:"pessoa",acao:"inserir",data:_(c.camposPessoa)};(a=await r.db(t)).data.status||f(c.saveButtonClientes,!1),x(a.data)}B.pessoaId=a.data.id,a.data.status&&(f(c.cadastrarButtonBanco,!1),((t,e)=>{document.getElementById(t).textContent=e})(c.cancelButtonClientes,"Novo Registro"),y(c.saveButtonBanco,"click",j))},k=async()=>{return(await r.db({tabela:"pessoa",acao:"listar",data:{tipo:"cliente"}})).data},S=async()=>{return(await r.db({tabela:"pessoa",acao:"listar",data:{tipo:"inquelino"}})).data},T=async()=>{const t={id:parseInt(w(c.pk))},e={tabela:"pessoa",acao:"get",data:t},a=await r.db(e);if(b(a.data.result,c.camposPessoa),"Casado(a)"===a.data.result.estado_civil){const t={tabela:"pessoa",acao:"get",data:{id:parseInt(a.data.result.conjuge)}},e=await r.db(t);b(e.data.result,c.camposConjuge),$("#conjuge").collapse("show")}(async(t=0,e=0)=>{let a,o;if(t?(a=!0,o={data:{id:t}}):e?(a=!0,o={data:{cliente:e}}):a=!1,a){const t={tabela:"dados_bancarios",acao:"get"},e=await r.db(Object.assign(o,t));e.data.status&&b(e.data.result,c.camposBanco)}})(0,t.id)},O=()=>{const t=parseInt(w(c.pk));(t=>{const e={tabela:"dados_bancarios",acao:"get",data:{cliente:t}};return r.db(e)})(t).then(e=>{e.data.status?(async(t=0,e=0)=>{const a=_(c.camposBanco);let o,n;if(t?(o=!0,n=Object.assign({id:t},a)):e?(o=!0,n=Object.assign({cliente:e},a)):o=!1,o){const t={tabela:"dados_bancarios",acao:"update",data:n},e=await r.db(t);console.log(e),e.data.status?(v(c.modalBanco),x(e.data)):x(e.data)}})(0,t):C(t)})},A=async()=>{let t;const e=parseInt(w(c.pk));p[c.camposPessoa].forEach(e=>{t=Object.assign(JSON.parse(e),t)});const a={tabela:"pessoa",acao:"update",data:t=Object.assign({id:e},t)},o=await r.db(a);if(o.data.status){const t={tabela:"pessoa",acao:"get",data:{id:e}},a=await r.db(t);if("Casado(a)"===a.data.result.estado_civil&&a.data.result.conjuge){let t;p[c.camposConjuge].forEach(e=>{t=Object.assign(JSON.parse(e),t)});const e={tabela:"pessoa",acao:"update",data:t=Object.assign({id:a.data.result.conjuge},t)},o=await r.db(e);x(o.data)}else if("Casado(a)"!==a.data.result.estado_civil||a.data.result.conjuge)x(o.data);else{let t;p[c.camposConjuge].forEach(e=>{t=Object.assign(JSON.parse(e),t)});const e={tabela:"pessoa",acao:"inserir",data:t=Object.assign({tipo:"conjuge"},t)},o=await r.db(e),n={tabela:"pessoa",acao:"update",data:{conjuge:o.data.id,id:a.data.result.id}};await r.db(n),x(o.data)}}else x(o.data)},q=async()=>{const t=parseInt(w(c.pk)),e={tabela:"pessoa",acao:"get",data:{id:t}},a=await r.db(e);let o=0;"Casado(a)"===a.data.result.estado_civil&&(o=a.data.result.conjuge);const n=await(async(t=0,e=0)=>{let a,o;if(t?(a=!0,o={data:{id:t}}):e?(a=!0,o={data:{cliente:e}}):a=!1,a){const t={tabela:"dados_bancarios",acao:"delete"};return await r.db(Object.assign(o,t))}})(0,t);if(n.status){const e={tabela:"pessoa",acao:"delete",data:{id:t}},a=await r.db(e);if(a.data.status){const t={tabela:"pessoa",acao:"delete",data:{id:o}},e=await r.db(t);x(e.data),window.location.replace("clientes")}else x(a.data)}else x(n.data)},D=()=>{const t={tabela:"imoveis",acao:"inserir",data:_(c.camposImovel)};r.db(t).then(t=>{t.data.status||f(c.saveButtonClientes,!1),x(t.data)})},L=async()=>{return(await r.db({tabela:"imoveis",acao:"listar"})).data},R=()=>{const t=_(c.camposImovel),e={tabela:"imoveis",acao:"update",data:Object.assign({id:w(c.pk)},t)};r.db(e).then(t=>x(t.data))},I=()=>{const t={tabela:"imoveis",acao:"delete",data:{id:w(c.pk)}};r.db(t).then(t=>{t.data.status?window.location.replace("0"):x(t.data)})},N=()=>{const t={tabela:"contratos",acao:"inserir",data:_(c.camposContrato)};r.db(t).then(t=>{t.data.status||f(c.saveButtonClientes,!1),x(t.data)})},P=async()=>{return(await r.db({tabela:"contratos",acao:"listar"})).data},U=()=>{const t=_(c.camposContrato),e={tabela:"contratos",acao:"update",data:Object.assign({id:w(c.pk)},t)};r.db(e).then(t=>x(t.data))},M=()=>{const t={tabela:"contratos",acao:"delete",data:{id:w(c.pk)}};r.db(t).then(t=>{t.data.status?window.location.replace("0"):x(t.data)})},H=()=>{const t={tabela:"debitos",acao:"inserir",data:_(c.camposDebito)};r.db(t).then(t=>{t.data.status||f(c.saveButtonClientes,!1),x(t.data)})},F=()=>{const t=_(c.camposDebito),e={tabela:"debitos",acao:"update",data:Object.assign({id:w(c.pk)},t)};r.db(e).then(t=>x(t.data))},z=()=>{const t=_(c.camposBaixaDebito),e={tabela:"debitos",acao:"update",data:Object.assign({id:w(c.pk)},t)};console.log(e),r.db(e).then(t=>x(t.data)),v("modal_baixa")},J=()=>{const t={tabela:"debitos",acao:"delete",data:{id:w(c.pk)}};r.db(t).then(t=>{t.data.status?window.location.replace("0"):x(t.data)})},X=()=>{const t={user_name:w("user_name"),pwd:w("pwd")};r.auth(t).then(t=>{t.data?(document.querySelector(".message").style.color="blue",window.location.replace("producao/clientes")):(document.querySelector(".message").style.color="red",document.querySelector(".message").textContent="Usuário ou senha inválida")})};(t=>{(t=>{const e=document.querySelector("."+t);if(e){const t=e.parentElement;document.getElementById(t.id).parentElement.classList.add("active"),e.classList.add("active")}})(t);const e="modulo_"+c.list;"login"===t?y(c.loginButton,"click",X):"clientes"!==t||w(e)?"inquelinos"!==t||w(e)?"imoveis"!==t||w(e)?"contratos"!==t||w(e)?"debitos"!==t||w(e)?"clientes"===t&&"clientes"===w(e)?k().then(e=>{e.status?s(e.result,t):console.log("Deu pau!")}):"inquelinos"===t&&"inquelinos"===w(e)?S().then(e=>{e.status?s(e.result,t):console.log("Deu pau!")}):"contratos"===t&&"contratos"===w(e)?P().then(e=>{e.status?s(e.result,t):console.log("Deu pau!")}):"debitos"===t&&"debitos"===w(e)?(async()=>{return(await r.db({tabela:"debitos",acao:"listar"})).data})().then(e=>{e.status?s(e.result,t):console.log("Deu pau!")}):"imoveis"===t&&"imoveis"===w(e)?L().then(e=>{e.status?s(e.result,t):console.log("Deu pau!")}):"debitos_rep"===t&&"debitos_rep"===w(e)&&(L().then(t=>{t.status?i("i.id",t.result):console.log("Deu pau!")}),k().then(t=>{t.status?i("po.id",t.result):console.log("Deu pau")}),S().then(t=>{t.status?i("pe.id",t.result):console.log("Deu pau")}),(async()=>{return(await r.db({tabela:"debitos",acao:"relatorio"})).data})().then(e=>{e.status?s(e.result,t):console.log("Deu pau!")})):(P().then(t=>{t.status&&i("contrato",t.result)}),parseInt(w(c.pk))?((()=>{const t={tabela:"debitos",acao:"get",data:{id:parseInt(w(c.pk))}};r.db(t).then(t=>{t.data.status?b(t.data.result,c.camposDebito):x(t.data.message)})})(),document.querySelector(c.buttonArea).innerHTML=l+"<button id='baixa_debito' data-toggle='modal' data-target='#modal_baixa'class='btn btn-info'>Baixar Débito</button>",y(c.buttonConfirmDelete,"click",J),y(c.buttonUpdate,"click",F),y(c.baixaButton,"click",z),m(c.camposDebito),m(c.camposBaixaDebito)):(h(),y(c.saveButtonClientes,"click",H))):(k().then(t=>{t.status&&i("contratado",t.result)}),S().then(t=>{t.status&&i("contratante",t.result)}),L().then(t=>{t.status&&i("imovel",t.result)}),parseInt(w(c.pk))?((()=>{const t={tabela:"contratos",acao:"get",data:{id:parseInt(w(c.pk))}};r.db(t).then(t=>{t.data.status?b(t.data.result,c.camposContrato):x(t.data.message)})})(),g(),y(c.buttonConfirmDelete,"click",M),y(c.buttonUpdate,"click",U),m(c.camposContrato)):(h(),y(c.saveButtonClientes,"click",N))):(k().then(t=>{t.status&&i("proprietario",t.result)}),parseInt(w(c.pk))?((()=>{const t={tabela:"imoveis",acao:"get",data:{id:parseInt(w(c.pk))}};r.db(t).then(t=>{t.data.status?b(t.data.result,c.camposImovel):x(t.data.message)})})(),g(),y(c.buttonConfirmDelete,"click",I),y(c.buttonUpdate,"click",R),m(c.camposImovel)):(h(),y(c.saveButtonClientes,"click",D))):parseInt(w(c.pk))?(T(),g(),y(c.buttonConfirmDelete,"click",q),y(c.buttonUpdate,"click",A),m(c.camposPessoa),m(c.camposConjuge)):(h(),y(c.saveButtonClientes,"click",E)):parseInt(w(c.pk))?(T(),document.querySelector(c.buttonArea).innerHTML=l+u,y(c.buttonConfirmDelete,"click",q),y(c.buttonUpdate,"click",A),y(c.saveButtonBanco,"click",O),m(c.camposPessoa),m(c.camposConjuge),m(c.camposBanco)):(document.querySelector(c.buttonArea).innerHTML=d+u,f(c.cadastrarButtonBanco,!0),y(c.saveButtonClientes,"click",E))})(w(c.modulo))}]);